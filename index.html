<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Provides a set of C++ header files with definitions inlined. 
    Functions are then surfaced for R using Rcpp Attributes while the
    definitions can be used in other R packages.">
<title>Prototyped Sharing of C++ Inline Headers • RcppHeaderSharing</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Prototyped Sharing of C++ Inline Headers">
<meta property="og:description" content="Provides a set of C++ header files with definitions inlined. 
    Functions are then surfaced for R using Rcpp Attributes while the
    definitions can be used in other R packages.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4979996562647159" crossorigin="anonymous"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-4QRKC3RN96"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4QRKC3RN96');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">RcppHeaderSharing</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/coatless-rd-rcpp/rcpp-shared-cpp-functions/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="exposing-c-in-one-r-package-to-another-r-package">Exposing <em>C++</em> in one R Package to Another R Package<a class="anchor" aria-label="anchor" href="#exposing-c-in-one-r-package-to-another-r-package"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>RcppHeaderSharing</code> <em>R</em> package provides an example of providing a set of <em>C++</em> functions in one <em>R</em> package to be used by other <em>R</em> packages. There are multiple approaches to facilitate such a framework. Within this project, the focus is on distributing <em>C++</em> header files within one of the <em>R</em> packages by making a <em>C++ header-only</em> library through the extensive use of <code>inline</code> keyword.</p>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<p>To install the package, you must first have a compiler on your system that is compatible with R. For help on obtaining a compiler consult either <a href="http://thecoatlessprofessor.com/programming/r-compiler-tools-for-rcpp-on-os-x/" class="external-link">macOS</a> or <a href="http://thecoatlessprofessor.com/programming/rcpp/install-rtools-for-rcpp/" class="external-link">Windows</a> guides.</p>
<p>With a compiler in hand, one can then install the package from GitHub by:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"r-pkg-examples/rcpp-shared-cpp-functions"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rd-rcpp.thecoatlessprofessor.com/rcpp-shared-cpp-functions/">"RcppHeaderSharing"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="implementation-details">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details"></a>
</h3>
<p>This project focuses on showcasing how to package in <em>R</em> a <em>C++ header-only</em> library. By approaching sharing <em>C++</em> functions in this manner, the complexity is reduced at the expense of compile time during development and initial installation. Complexity reduction arises from the library not needing to be initially compiled, packaged, and then installed on a local user’s computer.</p>
<p>Principally, <em>header-only</em> libraries combine both the function definition and implementation within the header files denoted by <code>.h</code> or <code>.hpp</code>. In comparison, traditional <em>C++</em> implementations that rely upon <code>.cpp</code> and <code>.hpp</code> file pairing result in the header files (<code>.hpp</code>) containing only a minimal “bones” public-facing implementation while the meat of the implementation is done in <code>.cpp</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">├──</span> DESCRIPTION                      <span class="co"># Package metadata</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="ex">├──</span> LICENSE                          <span class="co"># Code license</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="ex">├──</span> NAMESPACE                        <span class="co"># Function and dependency registration</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="ex">├──</span> R                                <span class="co"># R functions</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="ex">│</span>   ├── RcppExports.R                <span class="co"># Autogenerated R to C++ bindings by Rcpp</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="ex">│</span>   └── RcppHeaderSharing-package.R  <span class="co"># Package documentation</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="ex">├──</span> README.md</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="ex">├──</span> RcppHeaderSharing.Rproj</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="ex">├──</span> inst                             <span class="co"># C++ Headers</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="ex">│</span>   └── include</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="ex">│</span>       ├── RcppHeaderSharing.h      <span class="co"># Main header file</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="ex">│</span>       ├── hello</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="ex">│</span>       │   └── say_hello.h          <span class="co"># Individual header file with inline func</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="ex">│</span>       └── rcpp_math</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="ex">│</span>           └── add_numbers.h</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="ex">├──</span> man                              <span class="co"># Package Documentation</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="ex">│</span>   ├── RcppHeaderSharing-package.Rd</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="ex">│</span>   └── add_numbers.Rd</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="ex">└──</span> src                              <span class="co"># Compiled Code</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>    <span class="ex">├──</span> Makevars                     <span class="co"># Set compilation flag to include headers</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>    <span class="ex">├──</span> Makevars.win</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>    <span class="ex">├──</span> RcppExports.cpp              <span class="co"># Autogenerated R Bindings</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>    <span class="ex">└──</span> export-inline-header.cpp     <span class="co"># Surface into R a C++ header function.</span></span></code></pre></div>
<div class="section level4">
<h4 id="headers">Headers<a class="anchor" aria-label="anchor" href="#headers"></a>
</h4>
<p>Todo: Add explanation</p>
</div>
<div class="section level4">
<h4 id="inline">Inline<a class="anchor" aria-label="anchor" href="#inline"></a>
</h4>
<p>Todo: Add explanation</p>
</div>
</div>
<div class="section level3">
<h3 id="inclusion-in-another-r-package">Inclusion in another R package<a class="anchor" aria-label="anchor" href="#inclusion-in-another-r-package"></a>
</h3>
<p>In the other <em>R</em> package, modify the <code>DESCRIPTION</code> file’s <code>LinkingTo:</code> field to include the package name.</p>
<pre><code>LinkingTo: Rcpp, package_name
Imports:
    Rcpp (&gt;= 0.12.11)</code></pre>
<p>Within a <em>C++</em> file in <code>src/</code>, then add:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;Rcpp.h&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;package_name.h&gt;</span></span></code></pre></div>
<p>Retrieve the function definitions with a namespaced function call, e.g.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>package_name<span class="op">::</span>function_name<span class="op">()</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reference-implementations">Reference Implementations<a class="anchor" aria-label="anchor" href="#reference-implementations"></a>
</h3>
<p>Samples of using making available functions via a <em>C++ header-only</em> library <em>R</em> package:</p>
<ul>
<li><a href="https://github.com/rcppcore/rcpp" class="external-link"><code>Rcpp</code></a></li>
<li><a href="https://github.com/rcppcore/rcpparmadillo" class="external-link"><code>RcppArmadillo</code></a></li>
<li><a href="https://github.com/rcppcore/rcppeigen" class="external-link"><code>RcppEigen</code></a></li>
<li><a href="https://github.com/coatless/sitmo" class="external-link"><code>sitmo</code></a></li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>GPL (&gt;= 2)</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/coatless-rd-rcpp/rcpp-shared-cpp-functions/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/coatless-rd-rcpp/rcpp-shared-cpp-functions/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing RcppHeaderSharing</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James Balamuta <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/r-pkg-examples/rcpp-shared-cpp-functions" class="external-link"><img src="https://travis-ci.org/r-pkg-examples/rcpp-shared-cpp-functions.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://github.com/coatless-r-n-d/rcpp-shared-cpp-functions/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/coatless-r-n-d/rcpp-shared-cpp-functions/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
